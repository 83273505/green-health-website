==============================================================================
檔案路徑: supabase/config.toml
------------------------------------------------------------------------------
#/**
* 檔案名稱：config.toml
* 檔案職責：Supabase 專案的主設定檔，定義本地開發環境與 Edge Functions 的部署行為。
* 版本：1.1 (架構重構同步版)
* SOP 條款對應：
* - [SOP v7.2, 2.1.4] 標準化檔案標頭
* AI 註記：
* 變更摘要:
* - [functions]::[移除]::移除了對已廢棄的 recalculate-cart 函式的部署引用。
* - [functions]::[新增]::新增了對新的原子化 manage-cart 函式的部署設定。
* - [標頭]::[修正]::根據 SOP v7.2 規範，為此設定檔補上缺失的標準化檔案標頭。
* 更新日誌 (Changelog)：
* - v1.1 (2025-09-17)：同步程式碼架構，移除舊函式引用，新增新函式引用並補全標頭。
* - v1.0 (2025-09-10)：初始版本。
*/
==============================================================================
[INFO] 專案 ID
project_id = "zeezdsypknngfcodgjkd"
[INFO] 本地 API 伺服器設定
[api]
port = 54321
schemas = ["public", "storage", "graphql"]
max_rows = 1000
[INFO] 本地資料庫設定
[db]
port = 54322
major_version = 15
[INFO] 本地 Supabase Studio 設定
[studio]
port = 54323
Edge Functions 的精细化部署设定 (纵深防御)
------------------------------------------------------------------------------
[架構原則] 信任的最小化 (Zero Trust Principle)
此區塊採用「白名單」模式。只有在此處被明確設定為 verify_jwt = false 的
函式，才會對匿名使用者開放。所有未在此列出的函式，都將採用 Supabase
的預設安全行為 (verify_jwt = true)，即強制要求提供有效的 JWT。
------------------------------------------------------------------------------
[functions]
函式 1: 訂單建立中樞
理由: 必須處理已登入、未登入會員、純訪客三種情境的結帳請求。
[functions.create-order-from-cart]
verify_jwt = false
+++ [新增 v1.1] +++
函式 2: 原子化購物車管理
理由: 必須處理匿名及已登入使用者的所有購物車操作。
[functions.manage-cart]
verify_jwt = false
++++++++++++++++++
函式 3: 購物車獲取/建立
理由: 這是匿名使用者購物流程的起點，必須允許匿名請求來建立一個
與其綁定的購物車。
[functions.get-or-create-cart]
verify_jwt = false
函式 4: 後台 Supabase Client 安全金鑰獲取 (如果存在)
理由: 這是後台應用程式初始化時，安全獲取 anon key 的端點。
[註記] 根據您提供的檔案列表，此函式可能不存在，但保留設定以供未來使用。
[functions.config]
verify_jwt = false