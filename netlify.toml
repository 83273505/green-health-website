# ==============================================================================
# Green Health Netlify 設定檔 (最終繁中註解版)
# ==============================================================================

# [build]
# 這是全局的、預設的建置設定。
# 我們在這裡不指定 publish 目錄，以保護 main 分支在沒有對應資料夾時部署失敗。
[build]
  command = "echo '無需建置指令'"
  functions = "netlify/functions"

# ==============================================================================
# 🟢 test-shiporder 分支設定
# ==============================================================================
[context."test-shiporder"]
  # 指定 test-shiporder 分支的發布目錄。
  publish = "GreenHealth-Auth-Module"

# ==============================================================================
# 🟡 GreenHealth-Auth-Module 分支設定
# ==============================================================================
[context."GreenHealth-Auth-Module"]
  # 指定 GreenHealth-Auth-Module 分支的發布目錄。
  publish = "GreenHealth-Auth-Module"

# ==============================================================================
# 🔁 重定向規則
# ==============================================================================
[[redirects]]
  from = "/config.js"
  to = "/404.html"
  status = 404

# ==============================================================================
# ⚙️ 本地開發環境設定
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# 🔑 環境變數設定 (遵循您的既有格式)
# ==============================================================================

# 以下為選用設定，部署時可依需求啟用環境變數。
# 這是為「正式產品」環境 (production context, 通常對應 main 分支) 設定的範例。
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"

# 註：如果您的測試分支需要連接到不同的 Supabase 專案，
# 您也可以仿照此格式，為它們設定各自的 environment 區塊，例如：
# [context."test-shiporder".environment]
#   SUPABASE_URL = "https://your-testing-project.supabase.co"
#   SUPABASE_ANON_KEY = "your-testing-anon-key"