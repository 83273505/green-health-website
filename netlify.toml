# ==============================================================================
# Green Health Netlify 设定档 (最终繁中註解版)
# ==============================================================================

# [build]
# 全局设定。
# publish = "/" (我们暂时不设定全局 publish，让 Netlify 使用 UI 上的设定，通常是根目录 /)
[build]
  command = "echo '无需建置指令'"
  functions = "netlify/functions"

# ==============================================================================
# 🔁 重定向规则
# ==============================================================================
# 这个规则可能需要根据最终部署结构调整，暂时保留
[[redirects]]
  from = "/config.js"
  to = "/404.html"
  status = 404

# ==============================================================================
# ⚙️ 本地开发环境设定
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# 🔑 环境变数设定
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"

# ==============================================================================
# 【核心设定】- 分支特定部署规则
# ==============================================================================
# 🟢 test-shiporder 分支设定
[context."test-shiporder"]
  # 【已修正】指定正确的、从专案根目录出发的完整嵌套路径。
  # Netlify 会进入 'test-shiporder' 资料夹，然后再进入 'GreenHealth-Auth-Module' 资料夹作为发布目录。
  publish = "test-shiporder/GreenHealth-Auth-Module"

# 🟡 GreenHealth-Auth-Module 分支设定
[context."GreenHealth-Auth-Module"]
  # 这个分支的发布目录也是它自己。
  publish = "GreenHealth-Auth-Module"