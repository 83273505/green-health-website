# ==============================================================================
# æª”æ¡ˆè·¯å¾‘: netlify.toml
# ç‰ˆæœ¬: v28.0 - ç²¾æº–è·¯ç”±ä¿®æ­£ç‰ˆ
# ------------------------------------------------------------------------------
# ã€æ­¤ç‚ºå®Œæ•´æª”æ¡ˆï¼Œå¯ç›´æ¥è¦†è“‹ã€‘
# ==============================================================================

[build]
  command = "echo 'ç„¡éœ€å»ºç½®æŒ‡ä»¤'"
  publish = "test-shiporder"
  functions = "netlify/functions"
  
  [build.environment]
    NODE_VERSION = "18"

# ==============================================================================
# [[redirects]] å€å¡Š
# è¦å‰‡é †åºè‡³é—œé‡è¦ï¼šç‚ºäº†è§£æ±º MIME type è¡çªï¼Œæˆ‘å€‘å¿…é ˆå°‡ã€Œå¯¦é«”æª”æ¡ˆã€çš„è¦å‰‡
# æ”¾åœ¨ã€ŒSPA å›é€€ã€è¦å‰‡ä¹‹å‰ï¼Œä¸¦ä¸”ä½¿ç”¨æ›´å…·é«”çš„ from è·¯å¾‘ã€‚
# ==============================================================================

# --- æ ¸å¿ƒéœæ…‹è³‡æº ---
# è¦å‰‡ 1: å…±ç”¨æ¨¡çµ„ (è™•ç† .js, .css ç­‰å¯¦é«”æª”æ¡ˆ)
[[redirects]]
  from = "/_shared/*"
  to = "/_shared/:splat"
  status = 200

# --- å¾Œå°æ‡‰ç”¨ç¨‹å¼æ¨¡çµ„ (æ¯å€‹æ¨¡çµ„åˆ†ç‚ºã€Œå¯¦é«”æª”æ¡ˆã€å’Œã€ŒSPA å›é€€ã€å…©æ¢è¦å‰‡) ---

# æ¨¡çµ„ A: çµ±ä¸€å…¥å£ (admin)
[[redirects]]
  from = "/admin/*.*" # åŒ¹é…æ‰€æœ‰åŒ…å«å‰¯æª”åçš„å¯¦é«”æª”æ¡ˆè«‹æ±‚
  to = "/admin/:splat"
  status = 200
[[redirects]]
  from = "/admin/*"   # ä½œç‚º SPA å›é€€ï¼Œè™•ç†è™›æ“¬è·¯ç”±
  to = "/admin/index.html"
  status = 200

# æ¨¡çµ„ B: å€‰åº«å¾Œå° (warehouse-panel)
[[redirects]]
  from = "/warehouse-panel/*.*"
  to = "/warehouse-panel/:splat"
  status = 200
[[redirects]]
  from = "/warehouse-panel/*"
  to = "/warehouse-panel/shipping-dashboard.html"
  status = 200

# æ¨¡çµ„ C: ç™¼ç¥¨å¾Œå° (invoice-panel)
[[redirects]]
  from = "/invoice-panel/*.*"
  to = "/invoice-panel/:splat"
  status = 200
[[redirects]]
  from = "/invoice-panel/*"
  to = "/invoice-panel/index.html"
  status = 200

# æ¨¡çµ„ D: æ¬Šé™å¾Œå° (permission-panel)
[[redirects]]
  from = "/permission-panel/*.*"
  to = "/permission-panel/:splat"
  status = 200
[[redirects]]
  from = "/permission-panel/*"
  to = "/permission-panel/index.html"
  status = 200

# æ¨¡çµ„ E: (å‚™ç”¨) ä½¿ç”¨è€…å¾Œå° (user-panel)
[[redirects]]
  from = "/user-panel/*.*"
  to = "/user-panel/:splat"
  status = 200
[[redirects]]
  from = "/user-panel/*"
  to = "/user-panel/index.html"
  status = 200
  
# --- æ¶ˆè²»è€…å‰ç«¯ (ä½œç‚ºæœ€å¾Œçš„ã€Œå…¨æ”¶ã€è¦å‰‡) ---
# é€™æ¢è¦å‰‡æœƒæ•æ‰æ‰€æœ‰å…¶ä»–æœªåŒ¹é…çš„è·¯ç”±
[[redirects]]
  from = "/*"
  to = "/GreenHealth-Auth-Module/index.html"
  status = 200

# ==============================================================================
# âš™ï¸ æœ¬åœ°é–‹ç™¼ç’°å¢ƒè¨­å®š (ç¶­æŒåŸæ¨£)
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# ğŸ”‘ ç’°å¢ƒè®Šæ•¸è¨­å®š (æ­¤è™•ç‚ºç¯„æœ¬ï¼ŒçœŸå¯¦é‡‘é‘°æ‡‰åœ¨ Netlify UI ä¸­è¨­å®š)
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"