# ==============================================================================
# Green Health Netlify è®¾å®šæ¡£ (åˆ†æ”¯éš”é›¢ç‰ˆ)
# ==============================================================================
# æ­¤ç‰ˆæœ¬æ—¨åœ¨ç¢ºä¿ test-shiporder åˆ†æ”¯çš„è¨­å®šèˆ‡å…¶ä»–åˆ†æ”¯å®Œå…¨éš”é›¢ï¼Œ
# é¿å…äº’ç›¸å¹²æ“¾ã€‚

# [build] å€å¡Šå®šç¾©äº†å…¨å±€çš„å»ºç½®è¨­å®šã€‚
# æˆ‘å€‘åœ¨é€™è£¡ä¸è¨­å®š publishï¼Œè®“æ¯å€‹ context è‡ªå·±æ±ºå®šã€‚
[build]
  command = "echo 'æ— éœ€å»ºç½®æŒ‡ä»¤'"
  functions = "netlify/functions"

# ==============================================================================
# ğŸ” é‡å®šå‘ä¸é‡å¯«è§„åˆ™ (é‡å° test-shiporder åˆ†æ”¯)
# ==============================================================================
# ä½¿ç”¨ conditions = { "branch" = ["test-shiporder"] } ä¾†ç¢ºä¿
# ä»¥ä¸‹è¦å‰‡åªåœ¨é€™å€‹ç‰¹å®šåˆ†æ”¯ç”Ÿæ•ˆã€‚

# è¦å‰‡ 1: è™•ç†å€‰åº«å¾Œå° (/warehouse-panel/) çš„è«‹æ±‚
[[redirects]]
  from = "/warehouse-panel/*"
  to = "/warehouse-panel/:splat"
  status = 200
  conditions = { branch = ["test-shiporder"] }

# è¦å‰‡ 2: è™•ç†æ¶ˆè²»è€…å‰ç«¯ (GreenHealth-Auth-Module) çš„è«‹æ±‚
[[redirects]]
  from = "/*"
  to = "/GreenHealth-Auth-Module/:splat"
  status = 200
  conditions = { branch = ["test-shiporder"] }

# ==============================================================================
# âš™ï¸ æœ¬åœ°å¼€å‘ç¯å¢ƒè®¾å®š
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# ğŸ”‘ ç¯å¢ƒå˜æ•°è®¾å®š
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"

# ==============================================================================
# ã€æ ¸å¿ƒè®¾å®šã€‘- åˆ†æ”¯ç‰¹å®šéƒ¨ç½²è§„åˆ™
# ==============================================================================

# ğŸŸ¢ test-shiporder åˆ†æ”¯è®¾å®š
[context."test-shiporder"]
  # åœ¨æ­¤åˆ†æ”¯ï¼Œæˆ‘å€‘å°‡æ•´å€‹å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ä½œç‚ºç™¼å¸ƒå…§å®¹ï¼Œ
  # é€™æ¨£ä¸Šé¢çš„ redirects è¦å‰‡æ‰èƒ½æ‰¾åˆ°æ‰€æœ‰å­è³‡æ–™å¤¾ã€‚
  publish = "."

# ğŸŸ¡ GreenHealth-Auth-Module åˆ†æ”¯è®¾å®š (ä¿ç•™æ‚¨åŸæœ‰çš„è¨­å®š)
[context."GreenHealth-Auth-Module"]
  publish = "GreenHealth-Auth-Module"

# ğŸ”´ main åˆ†æ”¯è®¾å®š (å‡è¨­ main åˆ†æ”¯åªéƒ¨ç½²æ¶ˆè²»è€…å‰ç«¯)
[context.main]
  publish = "GreenHealth-Auth-Module"