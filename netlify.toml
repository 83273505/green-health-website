# ==============================================================================
# Green Health Netlify 设定档 (最终繁中註解版 - 已修正路径)
# ==============================================================================

# [build]
# 全局设定。不指定 publish 目录，以保护 main 分支在没有对应资料夹时部署失败。
[build]
  command = "echo '无需建置指令'"
  functions = "netlify/functions"

# ==============================================================================
# 🟢 test-shiporder 分支设定
# ==============================================================================
[context."test-shiporder"]
  # 【已修正】指定正确的、符合您实际文件结构的嵌套路径
  publish = "test-shiporder/GreenHealth-Auth-Module"

# ==============================================================================
# 🟡 GreenHealth-Auth-Module 分支设定
# ==============================================================================
[context."GreenHealth-Auth-Module"]
  # 假设这个分支的 GreenHealth-Auth-Module 文件夹是直接在根目录下
  publish = "GreenHealth-Auth-Module"

# ==============================================================================
# 🔁 重定向规则
# ==============================================================================
[[redirects]]
  from = "/config.js"
  to = "/404.html"
  status = 404

# ==============================================================================
# ⚙️ 本地开发环境设定
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# 🔑 环境变数设定
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"