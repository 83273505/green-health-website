# ==============================================================================
# [[redirects]] 區塊
# 規則的順序至關重要，將最具體的路徑規則放在最前面。
# ==============================================================================

# 規則 1: 共用模組
[[redirects]]
  from = "/_shared/*"
  to = "/_shared/:splat"
  status = 200

# 規則 2: 統一入口
[[redirects]]
  from = "/admin/*"
  to = "/admin/:splat"
  status = 200

# 規則 3: 倉庫後台
[[redirects]]
  from = "/warehouse-panel/*"
  to = "/warehouse-panel/:splat"
  status = 200

# 規則 4: 發票後台
[[redirects]]
  from = "/invoice-panel/*"
  to = "/invoice-panel/:splat"
  status = 200

# 【核心新增】規則 5: 權限後台
[[redirects]]
  from = "/permission-panel/*"
  to = "/permission-panel/:splat"
  status = 200

# 【核心新增】規則 6: (備用) 使用者後台
[[redirects]]
  from = "/user-panel/*"
  to = "/user-panel/:splat"
  status = 200
  
# 規則 7: 診斷入口頁面
[[redirects]]
  from = "/debug-entry.html"
  to = "/debug-entry.html"
  status = 200

# 規則 8: 消費者前端 (作為最後的「全收」規則)
[[redirects]]
  from = "/*"
  to = "/GreenHealth-Auth-Module/:splat"
  status = 200

# ==============================================================================
# ⚙️ 本地開發環境設定
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# 🔑 環境變數設定 (此處為範本，真實金鑰應在 Netlify UI 中設定)
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"