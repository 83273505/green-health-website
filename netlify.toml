# ==============================================================================
# Green Health Netlify 设定档 (最小化增加版)
# ==============================================================================
# 此版本在最后一次成功部署的基础上，只增加必要的 invoice-panel 规则。

[build]
  command = "echo '无需建置指令'"
  # 维持最后一次成功的 publish 设定
  publish = "test-shiporder"
  # 维持 Netlify Functions 的路径设定
  functions = "netlify/functions"

# ==============================================================================
# [[redirects]] 區块
# 规则的顺序很重要，将最具体的新规则放在最前面。
# ==============================================================================

# 【新增部分】处理发票后台 (/invoice-panel/) 的请求
[[redirects]]
  from = "/invoice-panel/*"
  to = "/invoice-panel/:splat"
  status = 200

# 【维持原样】处理仓库后台 (/warehouse-panel/) 的请求
[[redirects]]
  from = "/warehouse-panel/*"
  to = "/warehouse-panel/:splat"
  status = 200

# 【维持原样】处理消费者前端 (GreenHealth-Auth-Module) 的请求
[[redirects]]
  from = "/*"
  to = "/GreenHealth-Auth-Module/:splat"
  status = 200

# ==============================================================================
# ⚙️ 本地开发环境设定 (维持原样)
# ==============================================================================
[dev]
  framework = "#static"
  publish = "."
  
# ==============================================================================
# 🔑 环境变数设定 (维持原样)
# ==============================================================================
[context.production.environment]
  SUPABASE_URL = "https://your-project.supabase.co"
  SUPABASE_ANON_KEY = "your-anon-key"